<!DOCTYPE html>

<html lang="it">
<head>
<meta charset="utf-8"/>
<!-- Metadati Dublin Core -->
<meta content="CineViaggio" name="DC.Title">
<meta content="Ayca Kaya" name="DC.Creator"/>
<meta content="Location cinematografiche in Italia" name="DC.Subject"/>
<meta content="Esplorazione delle location dei film italiani tramite mappa, filtri e schede." name="DC.Description"/>
<meta content="UniversitÃ  di Bologna - Progetto DAMS" name="DC.Publisher"/>
<meta content="2025-03-31" name="DC.Date"/>
<meta content="Website" name="DC.Type"/>
<meta content="text/html" name="DC.Format"/>
<meta content="it" name="DC.Language"/>
<meta content="https://tuosito.github.io" name="DC.Identifier"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>CineViaggio - Dettaglio Film</title>
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet"/>
<link href="css/style.css" rel="stylesheet"/>
<link href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" rel="stylesheet"/>
</meta></head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
<a class="navbar-brand" href="index.html">ğŸ¬ CineViaggio</a>
<button class="navbar-toggler" data-target="#navbarNav" data-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarNav">
<ul class="navbar-nav ml-auto">
<li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="collezione.html">Collezione</a></li>
<li class="nav-item"><a class="nav-link" href="mappa.html">Mappa</a></li>
</ul>
</div>
</nav>
<header class="hero-section text-white text-center" id="hero" style="background-size: cover; background-position: center;">
<div class="hero-overlay"></div>
<div class="hero-content">
<h1 class="display-4 font-weight-bold" id="titolo-film"></h1>
</div>
</header>
<div class="container mt-5">
<nav aria-label="breadcrumb">
<ol class="breadcrumb bg-white px-3 py-2 rounded shadow-sm">
<li class="breadcrumb-item"><a href="index.html">Home</a></li>
<li class="breadcrumb-item"><a href="collezione.html">Collezione</a></li>
<li aria-current="page" class="breadcrumb-item active">Dettaglio</li>
</ol>
</nav>

<div class="row">
<div class="col-md-4 text-center">
<img alt="Locandina del Film" class="img-fluid shadow-lg rounded" id="immagine-film"/>
</div>
<div class="col-md-8">
<h2 class="mb-3 text-primary">ğŸï¸ Dettagli del Film</h2>
<div class="card shadow-lg p-3">
<ul class="list-group list-group-flush">
<li class="list-group-item"><strong>ğŸ¬ Regista:</strong> <span id="regista-film"></span></li>
<li class="list-group-item"><strong>ğŸ“… Anno:</strong> <span id="anno-film"></span></li>
<li class="list-group-item"><strong>ğŸ­ Genere:</strong> <span id="genere-film"></span></li>
<li class="list-group-item"><strong>ğŸ“ Location:</strong> <span id="location-film"></span></li>
<li class="list-group-item"><strong>ğŸ™ï¸ CittÃ :</strong> <span id="citta-film"></span></li>
<li class="list-group-item"><strong>ğŸ—ºï¸ Regione:</strong> <span id="regione-film"></span></li>
</ul>
</div>
</div>
</div>
</div>
<div class="container mt-5">
<h2 class="text-center mb-4 text-primary">ğŸ“– Descrizione</h2>
<p class="text-justify" id="descrizione-film"></p>
</div>
<div class="container mt-5">
<h2 class="text-center mb-4 text-primary">ğŸ“¸ Galleria della Location</h2>
<div class="carousel slide image-gallery shadow-lg rounded" data-ride="carousel" id="carouselLocation">
<div class="carousel-inner" id="carousel-images"></div>
<a class="carousel-control-prev" data-slide="prev" href="#carouselLocation" role="button">
<span aria-hidden="true" class="carousel-control-prev-icon"></span>
<span class="sr-only">Previous</span>
</a>
<a class="carousel-control-next" data-slide="next" href="#carouselLocation" role="button">
<span aria-hidden="true" class="carousel-control-next-icon"></span>
<span class="sr-only">Next</span>
</a>
</div>
</div>
<div class="container mt-5">
<h2 class="text-center mb-4 text-primary">ğŸ“ Informazioni sulla Location</h2>
<p class="text-justify" id="descrizione-location"></p>
</div>
<div class="container mt-5">
<h2 class="text-center mb-4 text-primary">ğŸ—ºï¸ Mappa della Location</h2>
<div class="map-container shadow-lg rounded" id="map"></div>
</div>
<footer class="bg-dark text-white text-center py-3 mt-5">
<p>ğŸ¬ Progetto Universitario - CineViaggio</p>
</footer>
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
      function getParameterByName(name) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(name);
      }

      const filmTitolo = decodeURIComponent(getParameterByName('film')).trim();

      fetch('films.json')
        .then(response => response.json())
        .then(films => {
          let film = films.find(f => f.titolo.trim().toLowerCase() === filmTitolo.toLowerCase());
          
          if (film) {
            document.getElementById('titolo-film').textContent = film.titolo;
            document.getElementById('immagine-film').src = film.immagine;
            document.getElementById('regista-film').textContent = film.regista;
            document.getElementById('anno-film').textContent = film.anno;
            document.getElementById('genere-film').textContent = film.genere;
            document.getElementById('location-film').textContent = film.location;
            document.getElementById('citta-film').textContent = film.citta;
            document.getElementById('regione-film').textContent = film.regione;
            document.getElementById('descrizione-film').textContent = film.descrizione;
            document.getElementById('descrizione-location').textContent = film.descrizione_location;
            
            document.getElementById('hero').style.backgroundImage = `url(${film.hero_image || film.immagine})`;
            
            let carouselInner = document.getElementById('carousel-images');
            carouselInner.innerHTML = film.galleria.slice(0, 2).map((img, index) => `
              <div class="carousel-item ${index === 0 ? 'active' : ''}">
                <img src="${img}" class="d-block w-100 rounded shadow-lg" alt="Location">
              </div>
            `).join('');
            
            if (film.latitudine && film.longitudine) {
              var map = L.map('map').setView([film.latitudine, film.longitudine], 13);
              L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; OpenStreetMap contributors'
              }).addTo(map);
              L.marker([film.latitudine, film.longitudine]).addTo(map)
                .bindPopup(`<b>${film.titolo}</b><br>${film.location}`)
                .openPopup();
            }
          }
        });
    });
  </script>
</body>
</html>
